(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{594:function(s,e,a){"use strict";a.r(e);var t=a(4),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("strong",[s._v("阅读本文大概需要6分钟")])]),s._v(" "),a("h2",{attrs:{id:"一、安装docker-centos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、安装docker-centos"}},[s._v("#")]),s._v(" 一、安装Docker(centos)")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[s._v("来自"),a("a",{attrs:{href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),a("OutboundLink")],1),s._v("的力量！")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("安装依赖包")]),s._v(" "),a("p",[a("code",[s._v("sudo yum install -y yum-utils")])])]),s._v(" "),a("li",[a("p",[s._v("添加yum软件源")]),s._v(" "),a("div",{staticClass:"language-sudo yum-config-manager \\ line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo yum-config-manager \\\n    --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("（可选）国内源")]),s._v(" "),a("div",{staticClass:"language-sudo yum-config-manager \\ line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo yum-config-manager \\\n    --add-repo \\\n    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("安装docker核心")]),s._v(" "),a("p",[a("code",[s._v("sudo yum install docker-ce docker-ce-cli containerd.io")])])]),s._v(" "),a("li",[a("p",[s._v("运行docker")]),s._v(" "),a("p",[s._v("设置开机自启动")]),s._v(" "),a("p",[a("code",[s._v("sudo systemctl enable docker")])]),s._v(" "),a("p",[s._v("运行docker")]),s._v(" "),a("p",[a("code",[s._v("sudo systemctl start docker")])])]),s._v(" "),a("li",[a("p",[s._v("测试docker是否安装好")]),s._v(" "),a("p",[s._v("下面这个命令会拉一遍helloworld这个仓库，成功的结果大家能知道的。")]),s._v(" "),a("p",[a("code",[s._v("sudo docker run hello-world")])])])])]),s._v(" "),a("h2",{attrs:{id:"二、实战安装redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、实战安装redis"}},[s._v("#")]),s._v(" 二、实战安装Redis")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[a("strong",[s._v("个人十分建议以这种方式来安装Redis，没错！我在教你做事")])]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[a("u",[s._v("下载镜像")])])]),s._v(" "),a("p",[a("code",[s._v("docker pull redis")])])]),s._v(" "),a("li",[a("p",[a("strong",[a("u",[s._v("执行镜像")])])]),s._v(" "),a("p",[s._v("创建一个容器来执行镜像，容器名字 指定端口和背景运行")]),s._v(" "),a("p",[a("code",[s._v("docker run --name redis-lab -p 6379:6379 -d redis")])])]),s._v(" "),a("li",[a("p",[a("u",[a("strong",[s._v("检查容器")])])]),s._v(" "),a("p",[a("code",[s._v("docker ps")])]),s._v(" "),a("p",[a("strong",[s._v("从镜像到容器的过程.")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/02/07/CIT7YQ5GU2xScm6.png",alt:"container"}})])]),s._v(" "),a("li",[a("p",[a("strong",[a("u",[s._v("测试redis")])])]),s._v(" "),a("p",[s._v("经过"),a("code",[s._v("docker ps")]),s._v("查询到容器的id，前四位，exec方式进入容器内部，bash命令行打开")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker exec -it e819 bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 测试\nredis-cli\n// 系统会进入到127.0.0.1:6379内\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ping\n//pong\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 测试get/set\nset test "hello world"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("get test\n// hello world\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("完整测试过程")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/02/07/Z8wfAak5uDo73Ee.png",alt:"test_redis"}})])])])]),s._v(" "),a("h2",{attrs:{id:"三、docker基本命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、docker基本命令"}},[s._v("#")]),s._v(" 三、Docker基本命令")]),s._v(" "),a("p",[a("strong",[s._v("对于初学者来说，docker用到的命令并不多，遵循着不变的启动->暂停->删除 or 恢复启动")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("镜像操作(包含容器)")]),s._v(" "),a("p",[a("strong",[s._v("拉取镜像")])]),s._v(" "),a("p",[a("code",[s._v("docker pull 某镜像")])]),s._v(" "),a("p",[a("strong",[s._v("查看镜像")])]),s._v(" "),a("p",[a("code",[s._v("docker images")])]),s._v(" "),a("p",[a("strong",[s._v("删除镜像")])]),s._v(" "),a("p",[a("strong",[s._v("先查看目前拥有的镜像记好id")])]),s._v(" "),a("p",[a("strong",[s._v("一步一步来")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 确定你一个容器都没有\ndocker rmi 镜像id\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("假如你有容器在运行这个镜像")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 查看在运行容器\ndocker ps\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("有在运行的容器，需要先暂停")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' [[email protected] dock]# docker psCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES28c830652ec9        centos:latest       "/bin/bash"         25 minutes ago      Up 2 seconds                            thirsty_albattani   [[email protected] dock]# docker stop 28c828c8\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("删除该容器（记录容器前四位id")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[[email protected] dock]# docker rm 28c8\n28c8\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("没有在运行的容器")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker ps -a\n//查看所有的容器（包括没有运行\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker rm 有要删除的镜像的容器id\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("确保确保删光了有该镜像的容器")])]),s._v(" "),a("p",[a("strong",[a("u",[s._v("再来删除镜像")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 确定你一个容器都没有\ndocker rmi 镜像id\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);