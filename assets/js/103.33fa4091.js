(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{589:function(s,e,a){"use strict";a.r(e);var t=a(4),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("strong",[s._v("阅读本文需要1.5分钟")])]),s._v(" "),a("h2",{attrs:{id:"简单速度使用版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单速度使用版"}},[s._v("#")]),s._v(" 简单速度使用版")]),s._v(" "),a("p",[a("strong",[s._v("就是你下载了别人的dockerfile，且代码完备，在同一个根目录下")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".\n├── app\n│   └── main.py\n└── Dockerfile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 网上没有这么直接的使用dockerfile的方法，千篇一律介绍怎么写file")]),s._v("\ndocker build -t myimage "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -d 后台 -p 端口：意思你80的端口借给容器用")]),s._v("\ndocker run -d --name mycontainer -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 myimage\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"dockerfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[s._v("#")]),s._v(" Dockerfile？")]),s._v(" "),a("p",[a("strong",[s._v("首先学习思维，外网的教学，"),a("u",[s._v("无外乎把Dockerfile制作容器的方法放在第一位，并且可能仅有这种方法")]),s._v("，目的就是先学好思维，避免学习上造无用轮子。")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("简单介绍流程")]),s._v(" "),a("p",[a("strong",[s._v("Dockerfile是把拉镜像，增加所需（比如安装依赖，clone代码等）执行过程整合成一个文件也就是Dockerfile")])])]),s._v(" "),a("li",[a("p",[s._v("简单例子，看完估计大部分情况都能解决了")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉一个ubuntu镜像")]),s._v("\nFROM ubuntu\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与Dockerfile同目录下的app文件夹复制进镜像")]),s._v("\nCOPY ./app /app\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 镜像里更新源和装vim编辑器，随后你run一个容器就行了")]),s._v("\nRUN "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"关于优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于优化"}},[s._v("#")]),s._v(" 关于优化")]),s._v(" "),a("p",[s._v("有一篇"),a("a",{attrs:{href:"https://www.infoq.cn/article/3-simple-tricks-for-smaller-docker-images",target:"_blank",rel:"noopener noreferrer"}},[s._v("文章"),a("OutboundLink")],1),s._v("写的比较好，可以参考.")]),s._v(" "),a("p",[a("strong",[s._v("但是对于python来说，使用Alpine版会出现很多莫名的bug，即使压缩节省了很多的空间，最终如果代码运行环境不稳定恶劣化，多牛逼的优化都算是鬼画符。")])]),s._v(" "),a("p",[a("strong",[s._v("最后。勤动手上网查，大佬提供的dockerfile都是挺好的，毕竟只有代码是自己的[Doge]")])])])}),[],!1,null,null,null);e.default=n.exports}}]);