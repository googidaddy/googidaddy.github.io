"use strict";(self.webpackChunkvuepress_theme_reco_demo=self.webpackChunkvuepress_theme_reco_demo||[]).push([[2539],{3847:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-05a30eba",path:"/blogs/Python/%E6%89%93%E5%8C%85%E8%87%AA%E5%B7%B1%E5%BA%93%E5%88%B0pypi.html",title:"打包自己的库到pypi",lang:"en-US",frontmatter:{title:"打包自己的库到pypi",date:"2021/07/01",tags:["pypi","python"],categories:["Python"]},excerpt:"<p><strong>维护自己一个库不好吗？</strong></p>\n",headers:[{level:3,title:"准备",slug:"准备",children:[]},{level:3,title:"步骤",slug:"步骤",children:[]}],git:{},filePathRelative:"blogs/Python/打包自己库到pypi.md"}},4752:(n,s,a)=>{a.r(s),a.d(s,{default:()=>b});var e=a(6252);const p=(0,e._)("p",null,[(0,e._)("strong",null,"维护自己一个库不好吗？")],-1),t=(0,e._)("h3",{id:"准备",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#准备","aria-hidden":"true"},"#"),(0,e.Uk)(" 准备")],-1),l=(0,e.Uk)("拥有一个"),o={href:"https://pypi.org/",target:"_blank",rel:"noopener noreferrer"},r=(0,e.Uk)("PYPI账号"),i=(0,e.uE)('<li><p>有一个正常使用的库/方法/项目</p></li><li><p>安装好最新的<code>setuptools</code>, <code>wheel</code>, <code>twine</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pip install setuptools wheel twine\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li>',2),c=(0,e.uE)('<h3 id="步骤" tabindex="-1"><a class="header-anchor" href="#步骤" aria-hidden="true">#</a> 步骤</h3><p><strong>项目结构</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/项目\n /main\n \t__init__.py\n setup.py(在项目根目录)\n LICENSE(在项目根目录)\n README.md(在项目根目录)\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>编辑<code>__init__.py</code>文件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>name = &quot;main&quot;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>编辑<code>setup.py</code></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> setuptools\n\n<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;README.md&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fh<span class="token punctuation">:</span>\n    long_description <span class="token operator">=</span> fh<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>\n\nsetuptools<span class="token punctuation">.</span>setup<span class="token punctuation">(</span>\n    <span class="token comment">#name：决定你的pip install name</span>\n    name<span class="token operator">=</span><span class="token string">&quot;example-pkg-your-username&quot;</span><span class="token punctuation">,</span>\n    version<span class="token operator">=</span><span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>\n    author<span class="token operator">=</span><span class="token string">&quot;Example Author&quot;</span><span class="token punctuation">,</span>\n    author_email<span class="token operator">=</span><span class="token string">&quot;author@example.com&quot;</span><span class="token punctuation">,</span>\n    description<span class="token operator">=</span><span class="token string">&quot;A small example package&quot;</span><span class="token punctuation">,</span>\n    <span class="token comment"># long_description 指项目详细描述放在了README.md中</span>\n    long_description<span class="token operator">=</span>long_description<span class="token punctuation">,</span>\n    long_description_content_type<span class="token operator">=</span><span class="token string">&quot;text/markdown&quot;</span><span class="token punctuation">,</span>\n    <span class="token comment"># 这个url展示在介绍页</span>\n    url<span class="token operator">=</span><span class="token string">&quot;https://github.com/pypa/sampleproject&quot;</span><span class="token punctuation">,</span>\n    packages<span class="token operator">=</span>setuptools<span class="token punctuation">.</span>find_packages<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token comment"># 指定该库依赖项，例如实现代码的环境...</span>\n    classifiers<span class="token operator">=</span><span class="token punctuation">[</span>\n        <span class="token string">&quot;Programming Language :: Python :: 3&quot;</span><span class="token punctuation">,</span>\n        <span class="token string">&quot;License :: OSI Approved :: MIT License&quot;</span><span class="token punctuation">,</span>\n        <span class="token string">&quot;Operating System :: OS Independent&quot;</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>编辑LICENSE(无后缀的文件)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>MIT License\n\nCopyright (c) [year] [fullname]\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the &quot;Software&quot;), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>编辑<code>README.md</code></p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> Example</span>\n\nThis is a simple example package.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>开始打包</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>python setup.py bdist_wheel\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>根目录下会生成<code>dist</code>目录，里面有一个文件</p></blockquote><p><strong>上传到<code>PYPI</code></strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>twine upload dist/*\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>会让你输入pypi的username以及密码</p></blockquote><p><strong>测试</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pip install 你的库名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',19),u={},b=(0,a(3744).Z)(u,[["render",function(n,s){const a=(0,e.up)("ExternalLinkIcon");return(0,e.wg)(),(0,e.iD)(e.HY,null,[p,t,(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("p",null,[l,(0,e._)("a",o,[r,(0,e.Wm)(a)])])]),i]),c],64)}]])}}]);