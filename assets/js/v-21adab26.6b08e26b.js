"use strict";(self.webpackChunkvuepress_theme_reco_demo=self.webpackChunkvuepress_theme_reco_demo||[]).push([[5365],{3406:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-21adab26",path:"/blogs/tech/Eslint.html",title:"Eslint项目配置",lang:"en-US",frontmatter:{title:"Eslint项目配置",date:"2021/07/01",tags:["Eslint"],categories:["tech"]},excerpt:"",headers:[{level:2,title:"ESlint",slug:"eslint",children:[{level:3,title:"配置",slug:"配置",children:[]}]}],git:{},filePathRelative:"blogs/tech/Eslint.md"}},4068:(n,s,a)=>{a.r(s),a.d(s,{default:()=>c});var p=a(6252);const e=(0,p.uE)('<h2 id="eslint" tabindex="-1"><a class="header-anchor" href="#eslint" aria-hidden="true">#</a> ESlint</h2><p><strong>ESlint有很多种安装方式，不过我建议大家是采用<code>npm</code>方式来熟悉</strong></p><p><strong>当然不止ESlint这一种静态分析工具，各有所爱罢了</strong></p><h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> <strong>配置</strong></h3><p>ESlint不是项目的必要依赖项，<strong>仅仅是开发环境需要用到.</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> eslint --save-dev\n\n// 安装成功后，初始化默认的ESlint\nnode_modules/.bin/eslint --init\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>该配置会保存到<code>.eslintrc.js</code>文件</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">&#39;env&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string-property property">&#39;commonjs&#39;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;es2021&#39;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;node&#39;</span><span class="token operator">:</span> <span class="token boolean">true</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token string-property property">&#39;extends&#39;</span><span class="token operator">:</span> <span class="token string">&#39;eslint:recommended&#39;</span><span class="token punctuation">,</span>\n    <span class="token string-property property">&#39;parserOptions&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string-property property">&#39;ecmaVersion&#39;</span><span class="token operator">:</span> <span class="token number">12</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token string-property property">&#39;rules&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string-property property">&#39;indent&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>\n            <span class="token number">4</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;linebreak-style&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>\n            <span class="token string">&#39;unix&#39;</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;quotes&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>\n            <span class="token string">&#39;single&#39;</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;semi&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>\n            <span class="token string">&#39;never&#39;</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;eqeqeq&#39;</span><span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;no-trailing-spaces&#39;</span><span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;object-curly-spacing&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;always&#39;</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token string-property property">&#39;arrow-spacing&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;before&#39;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string-property property">&#39;after&#39;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>\n        <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p><strong>更改缩进级别为两个空格</strong></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>\n    <span class="token number">2</span>\n<span class="token punctuation">]</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>使用<code>ESlint</code>检查可以用以下命令或者配置一个<code>npm</code>脚本</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>node_modules/.bin/eslint index.js\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>脚本</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node index.js&quot;</span><span class="token punctuation">,</span>\n    <span class="token comment">// ...</span>\n    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint .&quot;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>npm run build</code>会检查项目中的每一个文件，<strong>我们并不希望一些文件被检查</strong></p><p><strong>根目录新建一个<code>.eslintignore</code>文件</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>build\n// 或者不需要检查的\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>我们配置好之后自然是完善一套规则</strong></p><p><strong>增加<code>eqeqeq</code>规则，除了三个相等号之外，相等要被检查。规则在<code>rules</code>字段下添加</strong></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  &#39;rules&#39;<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token comment">// ...</span>\n   &#39;eqeqeq&#39;<span class="token operator">:</span> &#39;error&#39;<span class="token punctuation">,</span>\n    <span class="token comment">// 比如避免不必要的拖尾空格，大括号之间有一个空格等等</span>\n      &#39;no-trailing-spaces&#39;<span class="token operator">:</span> &#39;error&#39;<span class="token punctuation">,</span>\n    &#39;object-curly-spacing&#39;<span class="token operator">:</span> <span class="token punctuation">[</span>\n        &#39;error&#39;<span class="token punctuation">,</span> &#39;always&#39;\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    &#39;arrow-spacing&#39;<span class="token operator">:</span> <span class="token punctuation">[</span>\n        &#39;error&#39;<span class="token punctuation">,</span> <span class="token punctuation">{</span> &#39;before&#39;<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> &#39;after&#39;<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">// 警告不出现在控制台。</span>\n    &#39;no-console&#39;<span class="token operator">:</span> <span class="token number">0</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>',20),t=(0,p.Uk)("还有其他的流行规则风范比如"),r={href:"https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb",target:"_blank",rel:"noopener noreferrer"},o=(0,p.Uk)("Airbnb"),l={},c=(0,a(3744).Z)(l,[["render",function(n,s){const a=(0,p.up)("ExternalLinkIcon");return(0,p.wg)(),(0,p.iD)(p.HY,null,[e,(0,p._)("p",null,[(0,p._)("strong",null,[t,(0,p._)("a",r,[o,(0,p.Wm)(a)])])])],64)}]])}}]);