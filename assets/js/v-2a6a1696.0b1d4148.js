"use strict";(self.webpackChunkvuepress_theme_reco_demo=self.webpackChunkvuepress_theme_reco_demo||[]).push([[6158],{1150:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-2a6a1696",path:"/blogs/tech/docker-compose%E5%AE%89%E8%A3%85Redis.html",title:"",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Docker-compose安装Redis",slug:"docker-compose安装redis",children:[{level:3,title:"创建文件夹",slug:"创建文件夹",children:[]}]}],git:{},filePathRelative:"blogs/tech/docker-compose安装Redis.md"}},7008:(n,s,a)=>{a.r(s),a.d(s,{default:()=>t});var e=a(6252);const p=(0,e.uE)('<h2 id="docker-compose安装redis" tabindex="-1"><a class="header-anchor" href="#docker-compose安装redis" aria-hidden="true">#</a> Docker-compose安装Redis</h2><p><strong>注意：最好在服务器<code>Ubuntu</code>上实践</strong></p><h3 id="创建文件夹" tabindex="-1"><a class="header-anchor" href="#创建文件夹" aria-hidden="true">#</a> 创建文件夹</h3><p>DEMO：<code>redis</code>文件夹结构路径如下</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>.\n├── data\n│   └── dump.rdb // 这个不用创建\n├── docker-compose.yml\n├── logs\n│   └── redis.log // 这个不用创建\n└── redis.conf\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>docker-compose.yml</strong></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;2&#39;</span>\n<span class="token key atrule">services</span><span class="token punctuation">:</span>\n  <span class="token key atrule">redis</span><span class="token punctuation">:</span>\n    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>alpine\n    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always <span class="token comment"># 出错自动重启</span>\n    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> redis <span class="token comment"># 容器名字</span>\n    <span class="token key atrule">command</span><span class="token punctuation">:</span> redis<span class="token punctuation">-</span>server /usr/local/etc/redis/redis.conf <span class="token comment"># 用自定义的conf启动redis</span>\n    <span class="token key atrule">ports</span><span class="token punctuation">:</span>\n      <span class="token punctuation">-</span> <span class="token string">&#39;16379:6379&#39;</span> <span class="token comment"># 16379宿主机端口绑定容器6379端口</span>\n    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>\n      <span class="token punctuation">-</span> ./data<span class="token punctuation">:</span>/data\n      <span class="token punctuation">-</span> ./redis.conf<span class="token punctuation">:</span>/usr/local/etc/redis/redis.conf\n      <span class="token punctuation">-</span> ./logs<span class="token punctuation">:</span>/logs\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>',7),r={href:"https://download.redis.io/redis-stable/redis.conf",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Uk)("redis.conf模板文件下载"),c=(0,e.uE)('<p><strong>redis.conf需要修改的内容如下</strong></p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code># log文件存放位置\nlogfile &quot;/logs/redis.log&quot; \n\n# 密码登录！！！必须设置,把注释去掉\nrequirepass ZXCzxc132\n\n# 允许外网访问 注释掉即可\n# bind 127.0.0.1\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>其余根据需求来添加或者修改</strong></p><p><strong>运行<code>docker-compose up -d</code></strong></p><p><strong>然后试着连接。</strong></p>',5),o={},t=(0,a(3744).Z)(o,[["render",function(n,s){const a=(0,e.up)("ExternalLinkIcon");return(0,e.wg)(),(0,e.iD)(e.HY,null,[p,(0,e._)("p",null,[(0,e._)("a",r,[l,(0,e.Wm)(a)])]),c],64)}]])}}]);